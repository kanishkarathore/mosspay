{% extends 'vendor_layout.html' %}
{% block title %}Manage Profile{% endblock %}
{% block vendor_content %}
    <div class="profile-header">
        <h2>{{ session.user_name }}</h2> {# Display dynamic name #}
        <button class="action-btn-primary verified-badge">Verified</button>
    </div>
    
    <div class="profile-container">
        <!-- Business Info Section -->
        <div class="profile-section">
            <div class="section-top-bar">
                <h3>Business Information</h3>
                <a href="#" class="edit-link">Edit</a>
            </div>
            <div class="info-grid">
                <div class="info-item">
                    <label>BUSINESS NAME</label>
                    <p>{{ vendor.business_name if vendor else 'Eco-Friendly Emporium' }}</p>
                </div>
                <div class="info-item">
                    <label>CONTACT PERSON</label>
                    <p>{{ vendor.contact_name if vendor else 'Jane Doe' }}</p>
                </div>
                <div class="info-item">
                    <label>CATEGORY</label>
                    <p>Organic Food, Sustainable Goods</p> {# Example - make dynamic later #}
                </div>
                <div class="info-item">
                    <label>UDYAM ID</label>
                    <p>{{ vendor.udyam_id if vendor else 'UDYAM-XX-00-0000000' }}</p>
                </div>
                <div class="info-item full-span">
                    <label>ABOUT THE BUSINESS</label>
                    <p>Your friendly neighborhood store for all things organic and sustainable. We believe in providing healthy, eco-conscious products to our community.</p> {# Example - make dynamic later #}
                </div>
                <div class="info-item">
                    <label>ADDRESS</label>
                    <p>{{ vendor.business_address if vendor else '123 Green Way, Eco City, 110001' }}</p>
                </div>
                <div class="info-item">
                    <label>EMAIL ADDRESS</label>
                    <p>{{ vendor.email if vendor else 'contact@ecoemporium.com' }}</p>
                </div>
            </div>
        </div>
        
        <!-- Green Verification Section -->
        <div class="profile-section">
            <div class="section-top-bar">
                <h3>Green Verification</h3>
                <a href="#" class="edit-link">Manage</a>
            </div>
            <p class="section-subtitle">Manage your certifications and verification status.</p>
            <div class="info-grid">
                 <div class="info-item full-span">
                    <label>VERIFICATION STATUS</label>
                    <span class="verification-badge verified">Verified Green Partner</span>
                </div>
                 <div class="info-item full-span">
                    <label>MANAGE CERTIFICATIONS</label>
                    <div class="certificate-upload-row">
                        <p><strong>{{ vendor.cert_filename if vendor and vendor.cert_filename != 'N/A' else 'No Certification Uploaded' }}</strong></p>
                        {% if vendor and vendor.cert_filename != 'N/A' %}
                            <span class="file-date">Uploaded on 12 Jan 2024</span> {# Example Date #}
                            <button class="btn-secondary small-btn">Replace</button>
                        {% endif %}
                    </div>
                     {% if not vendor or vendor.cert_filename == 'N/A' %}
                    <div class="certificate-upload-row">
                        <p>Upload New Green Certification</p>
                        <input type="file" id="greenCertUpload" style="display: none;">
                        <label for="greenCertUpload" class="btn-primary small-btn upload-btn">Upload</label>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>
        
        <!-- Photos & Videos Section -->
        <div class="profile-section">
            <div class="section-top-bar">
                <h3>Photos & Videos</h3>
                <a href="#" class="edit-link">Add/Edit</a>
            </div>
             <p class="section-subtitle">Showcase your store and products to customers.</p>
            <div class="media-upload-grid">
                <div class="media-upload-item">
                    <label>Profile Logo</label>
                    <div class="upload-area square-ratio">
                        <img src="{{ url_for('static', filename='uploads/' + vendor.profile_logo) if vendor and vendor.profile_logo else 'https://via.placeholder.com/100x100?text=Logo' }}" alt="Profile Logo">
                        <input type="file" id="profileLogoUpload" name="profileLogo" style="display: none;">
                        <label for="profileLogoUpload" class="upload-overlay">
                            <svg viewBox="0 0 24 24"><path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path></svg>
                        </label>
                    </div>
                </div>
                <div class="media-upload-item cover-photo">
                    <label>Cover Photo</label>
                    <div class="upload-area wide-ratio">
                         <img src="{{ url_for('static', filename='uploads/' + vendor.cover_photo) if vendor and vendor.cover_photo else 'https://via.placeholder.com/400x150?text=Cover+Photo' }}" alt="Cover Photo">
                        <input type="file" id="coverPhotoUpload" name="coverPhoto" style="display: none;">
                        <label for="coverPhotoUpload" class="upload-overlay">
                            <svg viewBox="0 0 24 24"><path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path></svg>
                        </label>
                    </div>
                </div>
            </div>
            <div class="media-grid">
                <img src="https://images.unsplash.com/photo-1542838132-92c53300491e?w=500" alt="Store photo 1">
                <img src="https://images.unsplash.com/photo-1516594798947-e65505dbb29d?w=500" alt="Store photo 2">
                <img src="https://images.unsplash.com/photo-1498837167922-ddd27525d352?w=500" alt="Store photo 3">
                <div class="add-media-placeholder">
                    <span>+</span>
                    <p>Add Photos</p>
                </div>
            </div>
        </div>

        <!-- Store Details Section -->
        <div class="profile-section">
            <div class="section-top-bar">
                <h3>Store Details</h3>
                <a href="#" class="edit-link">Edit</a>
            </div>
            <p class="section-subtitle">Help customers find and visit you.</p>

            <div class="info-grid">
                <div class="info-item full-span">
                    <label>BUSINESS CATEGORIES / TAGS</label>
                    <p>Organic Food, Handicrafts, Sustainable Fashion, Local</p>
                    <small>Separate tags with commas</small>
                </div>
                <div class="info-item full-span">
                    <label>OPERATING HOURS</label>
                    <div class="operating-hours-list">
                        <div class="hour-row"><span>Monday</span><div class="hour-toggle"><label class="switch"><input type="checkbox" checked><span class="slider round"></span></label><span class="time-range">10:00 AM - 8:00 PM</span></div></div>
                        <div class="hour-row"><span>Tuesday</span><div class="hour-toggle"><label class="switch"><input type="checkbox" checked><span class="slider round"></span></label><span class="time-range">10:00 AM - 8:00 PM</span></div></div>
                        <div class="hour-row"><span>Wednesday</span><div class="hour-toggle"><label class="switch"><input type="checkbox" checked><span class="slider round"></span></label><span class="time-range">10:00 AM - 8:00 PM</span></div></div>
                        <div class="hour-row"><span>Thursday</span><div class="hour-toggle"><label class="switch"><input type="checkbox" checked><span class="slider round"></span></label><span class="time-range">10:00 AM - 8:00 PM</span></div></div>
                        <div class="hour-row"><span>Friday</span><div class="hour-toggle"><label class="switch"><input type="checkbox" checked><span class="slider round"></span></label><span class="time-range">10:00 AM - 8:00 PM</span></div></div>
                        <div class="hour-row"><span>Saturday</span><div class="hour-toggle"><label class="switch"><input type="checkbox" checked><span class="slider round"></span></label><span class="time-range">10:00 AM - 8:00 PM</span></div></div>
                        <div class="hour-row"><span>Sunday</span><div class="hour-toggle"><label class="switch"><input type="checkbox"><span class="slider round"></span></label><span class="time-range closed-text">Closed</span></div></div>
                    </div>
                </div>
                <div class="info-item full-span">
                    <label>WEBSITE & SOCIAL MEDIA</label>
                    <div class="social-link-row"><img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/linktree.svg" alt="Website" style="width:20px; height:20px;"><a href="https://ecoemporium.com" target="_blank">https://ecoemporium.com</a></div>
                    <div class="social-link-row"><img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/instagram.svg" alt="Instagram" style="width:20px; height:20px;"><a href="https://instagram.com/ecoemporium" target="_blank">@ecoemporium</a></div>
                    <div class="social-link-row"><img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/facebook.svg" alt="Facebook" style="width:20px; height:20px;"><a href="https://facebook.com/ecoemporium" target="_blank">EcoEmporium</a></div>
                </div>
            </div>
        </div>
    </div>

    <button class="fab green-fab" id="save-changes-fab">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
        <span>Save Changes</span>
    </button>
{% endblock %}